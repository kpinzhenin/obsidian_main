Это не очередь задач, как могло показаться на первый взгляд. Это способ меж-задачной коммуникации. 
Выглядит как своеобразный FIFO стек. 
При этом есть возможность "блокировать" задачи, которые пытаются писать в заполненный или читать из пустого стека. При этом состояние таких задач меняется при изменении доступности ( возможности чтения/записи ).

Для работы (чтения/записи ) с "очередями" в обработчике прерываний обязательно использовать версию для "ISR".

Если передается указатель, он не должен указывать на память в стеке задачи, потому что данные стека могут быть затерты. т.е. если передается указатель ( а не сами данные ), указатель должен быть на выделенную память. 